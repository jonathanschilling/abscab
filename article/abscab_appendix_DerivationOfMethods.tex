\section{Derivation of General Formulations}
\label{apx:derivation_of_general_formulations}
The derivations of the starting point formulas presented in Sec.~\ref{sec:methods} are given here.

\subsection{Straight Wire Segment}
The following geometric quantities with $\mathbf{x}_f \equiv \mathbf{x}_{i+1}$ are defined to ease the rest of the derivation:
\begin{align}
 L                   & \equiv | \mathbf{x}_f - \mathbf{x}_i | \, , \\
 \hat{\mathbf{e}}    & \equiv \left(\mathbf{x}_f - \mathbf{x}_i\right) / L \, , \\
 \mathbf{R}_i        & \equiv \mathbf{x} - \mathbf{x}_i \, , \\
 \mathbf{R}_f        & \equiv \mathbf{x} - \mathbf{x}_f \, , \\
 R_i                 & \equiv | \mathbf{R}_i | = | \mathbf{x} - \mathbf{x}_i | \, , \\
 R_f                 & \equiv | \mathbf{R}_f | = | \mathbf{x} - \mathbf{x}_f | \, , \\
 R_{i ||}            & \equiv \hat{\mathbf{e}} \cdot \mathbf{R}_i \, , \\
 R_{f ||}            & \equiv \hat{\mathbf{e}} \cdot \mathbf{R}_f \, , \\
 \mathbf{R}_\perp    & \equiv \mathbf{R}_i - R_{i ||} \hat{\mathbf{e}} \, , \\
 R_\perp             & \equiv | \mathbf{R}_\perp | \quad \mathrm{and} \\
 \mathbf{c}(\lambda) & \equiv \mathbf{x}_i + \lambda \left(\mathbf{x}_f - \mathbf{x}_i\right) \quad \mathrm{for} \quad 0 \leq \lambda \leq 1 \, .
\end{align}
The following relations are also needed:
\begin{align}
       L             & = R_{i ||} - R_{f ||} \\
       R_i^2 - R_f^2 & = L \left( R_{i ||} + R_{f ||} \right) \\
\Rightarrow R_{i ||} & = \frac{R_i^2 - R_f^2}{2 L} + \frac{L}{2} \\
\Rightarrow R_{f ||} & = \frac{R_i^2 - R_f^2}{2 L} - \frac{L}{2}
\end{align}

\subsubsection{Magnetic Vector Potential}
The law of Biot and Savart for the magnetic vector potential of a current density distribution $\mathbf{j}(\mathbf{x})$ is as follows~\cite{jackson}:
\begin{equation}
 \mathbf{A}(\mathbf{x}) = \frac{\mu_0}{4 \pi} \int \frac{\mathbf{j}(\mathbf{x}')}{|\mathbf{x} - \mathbf{x}'|} \mathrm{d}\mathbf{x}' \, .
\end{equation}
The parametrization of points on the line segment $\mathbf{c}(\lambda)$ can be used to apply this to the given geometry of a wire segment:
\begin{align}
 \mathbf{A}(\mathbf{x}) & = \frac{\mu_0 I}{4 \pi} L \hat{\mathbf{e}} \int\limits_0^1 \frac{\mathrm{d}\lambda}{|\mathbf{x} - \mathbf{c}(\lambda)|} \\
        ~               & = \frac{\mu_0 I}{4 \pi} L \hat{\mathbf{e}} \int\limits_0^1 \frac{\mathrm{d}\lambda}{|\mathbf{x} - \mathbf{x}_i - \lambda L \hat{\mathbf{e}}|} \, .
\end{align}
A little bit of geometric intuition is needed to simplify the denominator of the integral:
\begin{align}
 \mathbf{x} - \mathbf{x}_i - \lambda L \hat{\mathbf{e}}
   & = \mathbf{R}_i - \lambda L \hat{\mathbf{e}} \\
 ~ & = \mathbf{R}_i - R_{i ||} \hat{\mathbf{e}} + R_{i ||} \hat{\mathbf{e}} - \lambda L \hat{\mathbf{e}} \\
 ~ & = \mathbf{R}_i - R_{i ||} \hat{\mathbf{e}} + \left( R_{i ||} - \lambda L \right) \hat{\mathbf{e}} \\
 ~ & = \mathbf{R}_\perp + \left( R_{i ||} - \lambda L \right) \hat{\mathbf{e}} \, .
\end{align}
Note that, in particular, $\mathbf{R}_\perp \perp \hat{\mathbf{e}}$ and thus (since $|\hat{\mathbf{e}}|$ = 1) due to Pythagoras:
\begin{equation}
 | \mathbf{x} - \mathbf{x}_i - \lambda L \hat{\mathbf{e}} |^2 = R_\perp^2 + \left( R_{i ||} - \lambda L \right)^2
\end{equation}
and finally with $R_\perp^2 = R_i^2 - R_{i ||}^2$ (also due to Pythagoras):
\begin{align}
 | \mathbf{x} - \mathbf{x}_i - \lambda L \hat{\mathbf{e}} |^2
   & = R_i^2 - R_{i ||}^2 + R_{i ||}^2 - 2 \lambda L R_{i ||} + \lambda^2 L^2 \\
 ~ & = R_i^2 - 2 \lambda L R_{i ||} + \lambda^2 L^2 \, .
\end{align}
It follows:
\begin{equation}
 \mathbf{A}(\mathbf{x})
 = \frac{\mu_0 I}{4 \pi} L \hat{\mathbf{e}} \int\limits_0^1 \frac{\mathrm{d}\lambda}{\sqrt{R_i^2 - 2 \lambda L R_{i ||} + \lambda^2 L^2}} \, . \label{eqn:A_integral}
\end{equation}
For $X = a x^2 + b x + c$ with $a>0$ the following relation holds~\cite{bronstein}:
\begin{equation}
 \int \frac{\mathrm{d}x}{\sqrt{X}} = \frac{1}{\sqrt{a}} \log \left( 2 \sqrt{a X} + 2 a x + b \right) \, .
\end{equation}
Here, $x = \lambda$, $a = L^2$, $b=-2 L R_{i ||}$ and $c=R_i^2$.
The corresponding antiderivative of the integrand in \eqn{A_integral} is:
\begin{align}
 \int&\frac{\mathrm{d}\lambda}{\sqrt{R_i^2 - 2 \lambda L R_{i ||} + \lambda^2 L^2}} \nonumber \\
 =&\, \frac{1}{L} \log \left( 2 \sqrt{L^2\left( L^2 \lambda^2 - 2 L R_{i ||} \lambda + R_i^2 \right)} + 2 L^2 \lambda - 2 L R_{i ||} \right) \, .
\end{align}
The definite integral in \eqn{A_integral} is therefore solved by the following expression:
\begin{align}
 ~ & \int\limits_0^1 \frac{\mathrm{d}\lambda}{\sqrt{R_i^2 - 2 \lambda L R_{i ||} + \lambda^2 L^2}} \\
 = & \frac{1}{L} \Biggl[\phantom{-}\, \log \left( 2 \sqrt{L^2\left( L^2 - 2 L R_{i ||} + R_i^2 \right)} + 2 L^2 - 2 L R_{i ||} \right) \nonumber \\
 ~ & \phantom{\frac{1}{L} \Biggl[} - \log \left( 2 \sqrt{L^2 R_i^2 } - 2 L R_{i ||} \right) \Biggr] \\
 = & \frac{1}{L} \log \left( \frac{ \bcancel{2 L} \sqrt{L^2 - 2 L R_{i ||} + R_i^2} + \bcancel{2} L^{\bcancel{2}} - \bcancel{2 L} R_{i ||} }{ \bcancel{2 L} R_i - \bcancel{2 L} R_{i ||} } \right)
\end{align}
Note that
\begin{align}
                             L^2 & = L (R_{i ||} - R_{f ||} ) \\
                              ~  & = L R_{i ||} - L R_{f ||} \\
\Rightarrow -2 L R_{i ||} + L^2  & = - \bcancel{2} L R_{i ||}  + \bcancel{L R_{i ||}} - L R_{f ||} \\
                              ~  & = -L (R_{i ||} + R_{f ||} ) \\
                              ~  & = R_f^2 - R_i^2 \\
\Rightarrow                R_f^2 & = R_i^2 -2 L R_{i ||} + L^2 \, .
\end{align}
Therefore:
\begin{equation}
 \int\limits_0^1 \frac{\mathrm{d}\lambda}{\sqrt{R_i^2 - 2 \lambda L R_{i ||} + \lambda^2 L^2}}
 = \frac{1}{L} \log \left( \frac{ R_f - R_{f ||} }{ R_i - R_{i  \,\mathrm{d}\varphi||} } \right) \, .
\end{equation}
Inserting this into \eqn{A_integral} leads to the first intermediate result:
\begin{equation}
   \mathbf{A}(\mathbf{x})
 = \frac{\mu_0 I}{4 \pi} \bcancel{L} \bcancel{\frac{1}{L}} \log \left( \frac{ R_f - R_{f ||} }{ R_i - R_{i ||} } \right) \hat{\mathbf{e}}
 = \frac{\mu_0 I}{4 \pi}                                   \log \left( \frac{ R_f - R_{f ||} }{ R_i - R_{i ||} } \right) \hat{\mathbf{e}} \, . \label{eqn:A_first}
\end{equation}
However, if the point $\mathbf{x}$ is located on the line extension of the wire segment, $R_i = R_{i ||}$ and $R_f = R_{f ||}$,
which leads to a $0/0$ division if this formula is directly evaluated.
The solution is to cancel the singular term $(L + R_f - R_i)$, which is also zero for points on the line extension of the wire segment,
in the numerator and the denominator of \eqn{A_first}.
A second look resolves this:
\begin{align}
\frac{ R_f - R_{f ||} }{ R_i - R_{i ||} }
 = & \frac{ 2 L \left( R_f - R_{f ||} \right) }{ 2 L \left( R_i - R_{i ||} \right) }
 =   \frac{ 2 L R_f - 2 L \left( \frac{R_i^2 - R_f^2}{2 L} - \frac{L}{2} \right) }{ 2 L R_i - 2 L \left( \frac{R_i^2 - R_f^2}{2 L} + \frac{L}{2} \right) } \\
 = & \frac{ 2 L R_f - R_i^2 + R_f^2 + L^2 }{ 2 L R_i - R_i^2 + R_f^2 - L^2 } \\
 = & \frac{ 2 L R_f - R_i^2 + R_f^2 + L^2 + L R_i - L R_i + R_i R_f - R_i R_f}{ 2 L R_i - R_i^2 + R_f^2 - L^2 + L R_f - L R_f + R_i R_f - R_i R_f } \\
 = & \frac{\bcancel{(L + R_f - R_i)}(R_f + R_i + L)}{\bcancel{(L + R_f - R_i)}(R_f + R_i - L)}
 =   \frac{R_f + R_i + L}{R_f + R_i - L} \, .
\end{align}
It follows for the vector potential expression:
\begin{equation}
 \mathbf{A}(\mathbf{x}) = \frac{\mu_0 I}{4 \pi} \log \left( \frac{R_f + R_i + L}{R_f + R_i - L} \right) \hat{\mathbf{e}} \, . \label{eqn:A_second}
\end{equation}
The authors of Ref.~\cite{hanson_hirshman_2002} suggest to normalize the length of the wire segment:
\begin{equation}
 \frac{R_f + R_i + L}{R_f + R_i - L} = \frac{1 + \epsilon}{1 - \epsilon} \quad \mathrm{with} ~ \epsilon \equiv \frac{L}{R_i + R_f} \, ,
\end{equation}
leading to
\begin{equation}
 \mathbf{A}(\mathbf{x}) = \frac{\mu_0 I}{4 \pi} \log\left(\frac{1 + \epsilon}{1 - \epsilon} \right) \hat{\mathbf{e}} \, . \label{eqn:A_log_eps}
\end{equation}
This is the result for the magnetic vector potential of a filamentary wire segment presented in Ref.~\cite{hanson_hirshman_2002}.
Note that
\begin{equation}
 \mathrm{artanh}\left( \epsilon \right) = \frac{1}{2} \log\left(\frac{1 + \epsilon}{1 - \epsilon} \right) \, ,
\end{equation}
leading to
\begin{equation}
 \boxed{\mathbf{A}(\mathbf{x}) = \frac{\mu_0 I}{2 \pi} \, \mathrm{artanh} \left( \epsilon \right) \hat{\mathbf{e}}} \, . \label{eqn:A_artanh}
\end{equation}

\subsubsection{Magnetic Field}
The law of Biot and Savart for the magnetic field of a current density distribution $\mathbf{j}(\mathbf{x})$ is as follows~\cite{jackson}:
\begin{equation}
 \mathbf{B}(\mathbf{x}) = \frac{\mu_0}{4 \pi} \int \mathbf{j}(\mathbf{x}') \times \frac{\mathbf{x} - \mathbf{x}'~}{|\mathbf{x} - \mathbf{x}'|^3} \mathrm{d}\mathbf{x}' \, .
\end{equation}
The magnetic field $\mathbf{B}(\mathbf{x})$ is computed from $\mathbf{B} = \nabla \times \mathbf{A}$, applied to \eqn{A_log_eps}.
Define
\begin{equation}
 f(\epsilon) \equiv \log\left(\frac{1 + \epsilon}{1 - \epsilon} \right)
\end{equation}
and it follows:
\begin{equation}
  \frac{4 \pi}{\mu_0 I} \mathbf{B}
 = \nabla \times \left( f(\epsilon) \hat{\mathbf{e}} \right)
 = \nabla f(\epsilon) \times \hat{\mathbf{e}} + f(\epsilon) \underbrace{\nabla \times \hat{\mathbf{e}}}_{=0}
 = f'(\epsilon) \nabla \epsilon \times \hat{\mathbf{e}} \, .
\end{equation}
Note that
\begin{align}
   \nabla \epsilon
 =&\, \nabla \left( \frac{L}{R_i + R_f} \right)
 = \frac{-L}{(R_i + R_f)^2}\left( \nabla R_i + \nabla R_f \right) \nonumber \\
 =&\, \frac{-L}{(R_i + R_f)^2}\left( \frac{\mathbf{R}_i}{R_i} + \frac{\mathbf{R}_f}{R_f} \right) \, .
\end{align}
It follows:
\begin{align}
   \frac{4 \pi}{\mu_0 I} \mathbf{B}
 = & f'(\epsilon) \frac{-L}{(R_i + R_f)^2} \left( \frac{\mathbf{R}_i}{R_i} + \frac{\mathbf{R}_f}{R_f} \right) \times \hat{\mathbf{e}} \\
 = & f'(\epsilon) \frac{L}{(R_i + R_f)^2} \, \hat{\mathbf{e}} \times \left( \frac{\mathbf{R}_i}{R_i} + \frac{\mathbf{R}_f}{R_f} \right) \\
 = & f'(\epsilon) \frac{\epsilon^2}{L}    \, \hat{\mathbf{e}} \times \left( \frac{\mathbf{R}_i}{R_i} + \frac{\mathbf{R}_f}{R_f} \right) \, . \label{eqn:B_intermediate}
\end{align}
Also:
\begin{align}
   \frac{\mathbf{R}_i}{R_i} + \frac{\mathbf{R}_f}{R_f}
 =&\, \frac{\mathbf{R}_i}{R_i} + \frac{\mathbf{R}_i - L \hat{\mathbf{e}} }{R_f}
 =   \frac{R_f \mathbf{R}_i + R_i (\mathbf{R}_i - L \hat{\mathbf{e}}) }{R_i R_f} \nonumber \\
 =&\,   \frac{(R_f+R_i) \mathbf{R}_i + R_i L \hat{\mathbf{e}} }{R_i R_f}
 = \frac{R_f+R_i}{R_i R_f} \mathbf{R}_i + \frac{R_i L}{R_i R_f} \, \hat{\mathbf{e}}
\end{align}
and therefore:
\begin{equation}
   \hat{\mathbf{e}} \times \left( \frac{\mathbf{R}_i}{R_i} + \frac{\mathbf{R}_f}{R_f} \right)
 = \hat{\mathbf{e}} \times \left( \frac{R_f+R_i}{R_i R_f} \mathbf{R}_i + \frac{R_i L}{R_i R_f} \, \hat{\mathbf{e}} \right)
 = \frac{R_f+R_i}{R_i R_f} \, \hat{\mathbf{e}} \times \mathbf{R}_i \, ,
\end{equation}
since $\hat{\mathbf{e}} \times \hat{\mathbf{e}} = 0$.
Inserting this into \eqn{B_intermediate} leads to:
\begin{equation}
   \frac{4 \pi}{\mu_0 I} \mathbf{B}
 = f'(\epsilon) \frac{\epsilon^{\bcancel{2}}}{\bcancel{L}} \, \frac{\bcancel{R_f+R_i}}{R_i R_f} \, \hat{\mathbf{e}} \times \mathbf{R}_i
 = f'(\epsilon) \frac{\epsilon}{R_i R_f} \, \hat{\mathbf{e}} \times \mathbf{R}_i \label{eqn:B_intermediate_2}
\end{equation}
Next, look at $f'(\epsilon)$:
\begin{equation}
   f'(\epsilon)
 = \frac{\bcancel{1 - \epsilon}}{1 + \epsilon} \cdot \frac{1 (1-\epsilon) - (1+\epsilon) (-1)}{(1 - \epsilon)^{\bcancel{2}}}
 = \frac{1 - \epsilon + 1 + \epsilon}{(1 + \epsilon)(1 - \epsilon)}
 = \frac{2}{1 - \epsilon^2}
\end{equation}
and insert this into \eqn{B_intermediate_2}:
\begin{align}
   \frac{4 \pi}{\mu_0 I} \mathbf{B}
 = & \frac{2 \epsilon}{1 - \epsilon^2} \cdot \frac{1}{R_i R_f} \, \hat{\mathbf{e}} \times \mathbf{R}_i \\
 = & \frac{2 L}{\bcancel{R_i + R_f}} \cdot \frac{(R_i + R_f)^{\bcancel{2}}}{(R_i + R_f)^2 - L^2} \cdot \frac{1}{R_i R_f} \, \hat{\mathbf{e}} \times \mathbf{R}_i \, .
\end{align}
This results in the final expression for the magnetic field:
\begin{equation}
 \boxed{\mathbf{B} (\mathbf{x}) = \frac{\mu_0 I}{4 \pi} \frac{2 L (R_i + R_f)}{R_i R_f} \frac{1}{(R_i + R_f)^2 - L^2} \, \hat{\mathbf{e}} \times \mathbf{R}_i } \, .
\end{equation}

\section{Derivation of Special Case Formulations}
\label{apx:derivation_of_special_case_formulations}
The derivation of the circular wire loop formulas is considered first.
It starts at the expression given by Jackson~\cite{jackson}
and listed here in~\eqn{cwl_A_phi_Jackson}.
Normalized coordinates~$(\rho', z')$ as introduced above
are used to reformulate the expression given by Jackson into the following:
\begin{equation}
 A_\varphi(\rho', z')
   = \frac{\mu_0 I}{\pi}
     \frac{1}{\sqrt{z'^2 + (1 + \rho')^2}}
     \left[ \frac{(2 - k^2)\mathcal{K}(k) - 2 \mathcal{E}(k)}{k^2} \right] \, . \label{eqn:cwl_A_phi_initial}
\end{equation}
According to~\eqn{norm_A_phi}, a normalizing prefactor is split off.
The remaining term~$\tilde{A}_\varphi(\rho',z')$ only depends on the geometry of the wire loop
and the evalation location:
\begin{equation}
  \tilde{A}_\varphi(\rho', z')
  = \frac{1}{\sqrt{z'^2 + (1 + \rho')^2}}
    \left[ \frac{(2 - k^2)\mathcal{K}(k) - 2 \mathcal{E}(k)}{k^2} \right] \, . \label{eqn:aNormJackson}
\end{equation}
Cancellations can happen in the numerical evaluation of~\eqn{aNormJackson}~\cite{bulirsch_3}.
Therefore, another form for~$\tilde{A}_\varphi(\rho',z')$ can be found by employing
formulas from Ref.~\cite{jahnke_emde} (Section V.B.11 on page 73 therein):
\begin{align}
                 \mathcal{K}(k) =&\, \mathcal{E}(k) + k^2 \mathcal{D}(k) \nonumber \\
 \Leftrightarrow \mathcal{D}(k) =&\, \frac{\mathcal{K}(k) - \mathcal{E}(k)}{k^2} \\
               2 \mathcal{D}(k) =&\, \mathcal{K}(k) + k^2 \mathcal{C}(k) \nonumber \\
 \Leftrightarrow k^2 \mathcal{C}(k) =&\, 2 \mathcal{D}(k) - \mathcal{K}(k) \nonumber \\
                     ~              =&\, 2 \left( \frac{\mathcal{K}(k) - \mathcal{E}(k)}{k^2} \right) - \mathcal{K}(k) \nonumber \\
                     ~              =&\, \frac{(2 - k^2) \mathcal{K}(k) - 2 \mathcal{E}(k)}{k^2} \, . \label{eqn:kSqC}
\end{align}
Application of~\eqn{kSqC} to~\eqn{aNormJackson} leads to:
\begin{equation}
  \tilde{A}_\varphi(\rho', z')
  = \frac{k^2}{\sqrt{z'^2 + (1 + \rho')^2}} \,\mathcal{C}(k)\, .
\end{equation}
This is the far-field method used in~\eqn{cwl_A_phi_f}.
Note that~$\mathcal{C}(k)$ can be evaluated as follows~\cite{bulirsch_1, bulirsch_3}:
\begin{align}
  \mathcal{C}(k) =&\, \textrm{cel2}\,\left(\frac{2 \sqrt{|k_c|}}{1+|k_c|},0,\frac{2}{(1+|k_c|)^3}\right) \nonumber \\
       ~         =&\, \textrm{cel}\,\left(\frac{2 \sqrt{|k_c|}}{1+|k_c|},1,0,\frac{2}{(1+|k_c|)^3}\right) \, .
\end{align}
The absolute value around~$k_c$ is otherwise omitted in this work
because~$k_c \geq 0$ always holds for the formulation of~$k_c$ used in this work.
\eqn{cwl_A_phi_initial}~is a linear combination of the complete elliptic integrals
of the first and second kind and can be handled by the \texttt{cel}~function
introduced by Bulirsch~\cite{bulirsch_3}:
\begin{equation}
  \lambda \mathcal{K} (k) + \mu \mathcal{E} (k) = \textrm{cel}\,(k_c, 1, \lambda + \mu, \lambda + \mu k_c^2) \, .
\end{equation}
Here, $\lambda = (2 - k^2)/k^2$ and $\mu = -2/k^2$,
leading to:
\begin{align}
  \lambda + \mu       =&\, \frac{2 - k^2}{k^2} - \frac{2}{k^2} \nonumber \\
      ~               =&\, \frac{\bcancel{2} - k^2 \bcancel{-2}}{k^2} = -1 \nonumber \\
  \lambda + \mu k_c^2 =&\, \frac{2 - k^2}{k^2} - \frac{2 (1 - k^2)}{k^2} \nonumber \\
      ~               =&\, \frac{\bcancel{2} - k^2 \bcancel{-2} + 2 k^2}{k^2} = 1
\end{align}
Thus, $\tilde{A}_\varphi(\rho',z')$~can be expressed as follows:
\begin{equation}
 \tilde{A}_\varphi(\rho',z')
 = \frac{1}{\sqrt{z'^2 + (1 + \rho')^2}}
   \textrm{cel}\,(k_c, 1, -1, 1) \, .
\end{equation}
This is equivalent to Eqn.~(3.2.1.6) in Ref.~\cite{teal}.
The near-field (close to~$\rho' = 1$) is handled by factoring out~$|\rho'-1|$:
\begin{equation}
 \tilde{A}_\varphi(\rho',z')
 = \frac{1}{|\rho'-1| \sqrt{\left(\frac{z'}{\rho'-1}\right)^2 + \left(1 + \frac{2}{\rho'-1}\right)^2}}
   \textrm{cel}\,(k_c, 1, -1, 1) \label{eqn:cwl_A_phi_near}
\end{equation}
with
\begin{equation}
  k_c^2 =
  \frac{\left(\frac{z'}{\rho'-1}\right)^2 + 1}
       {\left(\frac{z'}{\rho'-1}\right)^2 + \left(1 + \frac{2}{\rho'-1}\right)^2} \, ,
\end{equation}
where the following was used:
\begin{equation}
    \frac{\rho' + 1}{\rho' - 1}
  = \frac{\rho'-1 + 2}{\rho' - 1}
  = 1 + \frac{2}{\rho' - 1} \, .
\end{equation}
The formulation presented in~\eqn{cwl_A_phi_near} is used in~\eqn{cwl_A_phi_n}.




